{"ts":1349434582910,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1349434596393,"patch":[[{"diffs":[[1,"app.register(\"map-module\", function(sandbox){\r\n    /*\r\n    * @constructor\r\n\t*/\r\n\treturn {\r\n\t\t//init and destroy methods REQUIRED\r\n\t\tobjSource: {}, //objeto tabla/view\r\n\t\tinit: function(){\r\n\t\t\tthis.moduleId = \"leftMenu\";\r\n\t\t\tthis.el = sandbox.getElement({ selector:\"#\" + this.moduleId });\r\n            this.MenuData = null;\r\n            this.ListSources = {};\r\n            this.ListViews = {};\r\n            this.ListFunctions = {};\r\n            this.ListShares = {};\r\n\r\n            this.enumDBType = { table: \"mytables\", view: \"myviews\", sproc: \"myfunctions\", shares: \"myshares\" }; \r\n    \t\t\r\n            sandbox.setEvent({\r\n\t\t\t\ttype: \"click\",\r\n\t\t\t\tparent: \"#\" + this.moduleId,\r\n\t\t\t\tchild: \"a\",\r\n\t\t\t\tmethod: \"delegate\",\r\n\t\t\t\thandler: { context:this, method:this.handleEvent },\r\n\t\t\t\tmoduleId: this.moduleId\r\n\t\t\t});\r\n    \t\tsandbox.addListener([{\r\n\t\t\t\ttype: \"menu-success\",\r\n\t\t\t\tcontext: this,\r\n\t\t\t\tcallback: this.bindItemClick\r\n\t\t\t}]);\r\n    \t\t//TODO - Manejar menu y header con template\r\n            \r\n            this.loadSections();\r\n\r\n\t\t},\r\n\t\tloadSections: function(){\r\n\r\n    \t\t$(\"#maincontainer\").append(sandbox.fetchTemplate(sandbox.getTemplatesPath('header'), []));\r\n\t\t\tthis.getMenu();\r\n\r\n\t\t},\r\n\t    adjustMainContent: function() {\r\n\t        var docH = $(document).height();\r\n\t        var headH = $(\"#headerContainer\").height();\r\n\t        var footH = $(\"#footer\").height();\r\n\r\n\t        $(\"#maincontainer\").height(docH - headH - footH - 130);\t        \r\n\t    },\r\n\r\n        getMenu: function(){\r\n            var self = this;\r\n            $.get('getMenu', function (res) {\r\n\r\n                self.MenuData = res.data;\r\n                self.showMenu();\r\n\r\n            });\r\n\t\t},\r\n\r\n    \t//this method will display the menu items returned by ajax call\r\n\t\tshowMenu: function(res){\r\n\t\t\tvar leftmenu = sandbox.getElement({\r\n\t\t\t\tselector: \"#leftMenu\"\r\n\t\t\t});\r\n            \r\n\t\t\t//loop over the returned json and display the elements\r\n            \r\n\t\t\tif(this.MenuData.length>0){\r\n\r\n\t\t\t\tfor (var i = 0; i < this.MenuData.length; i++) {\r\n                    var item = this.MenuData[i];\r\n                    var relpop = (item.inControl=='popover') ? 'popover' : '';\r\n                    var href = (item.inControl=='popover') ? '#' : item.ref;\r\n                    var $_li = $('<li id=\"itm_' + item.itemname + '\" class=\"pointer\" style=\"line-height:30px; color:' + item.color + '\"><a idData=\"' + item.id + '\" rel=\"' + relpop + '\" href=\"' + href + '\" class=\"text-shadow nolink\" style=\"color:' + item.color + '\"><i class=\"' + item.icon + ' icon-large text-shadow\"></i>  <small style=\"font-size:12px;\">' + item.text + '</small></a></li>');\r\n\r\n                    //setup some events and define a callback\r\n                    if(item.inControl=='popover')\r\n                    \tthis.initPopOver($_li, item);\r\n\r\n                    sandbox.domManipulation([{\r\n            \t\t\ttype: \"append\",\r\n        \t\t\t\twhere: leftmenu,\r\n        \t\t\t\twhat: $_li\r\n        \t\t\t}]);\r\n                    \r\n\t\t\t\t}\r\n\t\t\t}\r\n            \r\n\t\t},\r\n        //initialize the popover\r\n        initPopOver: function(el, item) {\r\n            var self = this;\r\n\r\n            el.clickover({\r\n                tip_id: item.itemname,\r\n                html: true,\r\n                title: item.text,\r\n                trigger:'click',\r\n                placement:'belowRight',\r\n                allow_multiple:false,\r\n                global_close: false,\r\n                //content: template,\r\n                onShown: function() { self.setContentPopOver(this, item, el) },\r\n                onHide: function() { $('ul#leftMenu li').removeClass('active'); }\r\n            });\r\n\r\n         \t$.ajax({ url: \"/\" + item.ref, async: true }).then(function(data) {\r\n       \t\t\t\r\n       \t\t\tswitch(item.ref)\r\n       \t\t\t{\r\n       \t\t\t\tcase self.enumDBType.table: self.ListSources.data = data.objectList; break;\r\n       \t\t\t\tcase self.enumDBType.sproc: self.ListFunctions.data = data.objectList; break;\r\n                    case self.enumDBType.shares: self.ListShares.data = data.objectList; break;\r\n       \t\t\t}\r\n       \t\t\t   \t\t\t \r\n        \t});           \r\n\r\n            $('.scrollbar').scrollbar();\r\n        },\r\n\r\n\t    setContentPopOver: function(pov, item, elem){\r\n\t        var self = this;\r\n\t        var list=[];\r\n\t        //Asign conten to POPOVER\r\n\t        pov.$tip.find('.popover-content > *').html(this.appendSources(item.ref));\r\n\r\n\t        $('.scrollbar').scrollbar();\r\n\r\n\t        $('ul#leftMenu li').removeClass('active');\r\n\t        elem.addClass('active');\r\n\t        var popheader = $(\"#\" + item.itemname).find(\"h3\");\r\n\t        var toolbtn;\r\n\t        if(item.toolbar.length > 0) {\r\n\t            toolbtn = $('<div class=\"pull-right\"><a href=\"#\" class=\"text-shadow nolink\" data-toggle=\"modal\" data-target=\"#loginform\" rel=\"tooltip\" role=\"button\" data-placement=\"right\" title=\"' + item.toolbar[0].tip + '\"><i class=\"' + item.toolbar[0].toolicon + ' \"></i></a></div>');\r\n\t            toolbtn.find('a[rel=tooltip]').tooltip();\r\n\t        }\r\n\t        popheader.append(toolbtn);\r\n\t        $('a[data-target=\"#loginform\"]').click(function(){\r\n\t        \talert('open dialog');\r\n\t        });\r\n\r\n\t    },\r\n\r\n        appendSources: function(who){\r\n\t\t\tvar self = this;\r\n\t\t\tvar template = null;\r\n\t\t\tvar pathTemplate = \"\";\r\n\t\t\tvar list = {};\r\n\t\t\tvar data = [];\r\n\t\t\tvar isRes = false;\r\n\t\t\tif(!self.ListSources.data || !self.ListFunctions.data || !self.ListShares.data)\r\n            {\r\n            \t$.ajax({ url: \"/\" + who, async: false }).then(function(data) {\r\n\t\t \t\t\tlist.data = data.objectList;\r\n\t\t \t\t\tdata = data.objectList;\r\n\t\t \t\t\tisRes = true;\r\n            \t});\r\n            }\r\n \t\t\tswitch(who)\r\n   \t\t\t{\r\n   \t\t\t\tcase self.enumDBType.table: \r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListSources.data \t= data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListSources.data;\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listSources'); break;\r\n   \t\t\t\t}\r\n   \t\t\t\tcase self.enumDBType.view:  \r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListSources.data = data;\t\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tlist.data = self.ListSources.data;\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listViews'); break;\r\n   \t\t\t\t}\r\n   \t\t\t\tcase self.enumDBType.sproc:\r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListFunctions.data = data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListFunctions.data\t\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listFunctions');break; \r\n   \t\t\t\t}\r\n       \t\t\tcase self.enumDBType.shares:\r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListShares.data = data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListShares.data\t\r\n   \t\t\t\t\tpathTemplate = sandbox.getTemplatesPath('listShares');break; \r\n   \t\t\t\t}                   \r\n                   \r\n   \t\t\t}\r\n\r\n            template = sandbox.fetchTemplate(pathTemplate, list); \r\n\r\n            return template;          \r\n\t\t},\r\n\r\n\t};\r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":6788}]],"length":6788,"saved":false}
{"ts":1349434611511,"patch":[[{"diffs":[[0,"leId = \""],[-1,"leftMenu"],[1,"MyMap"],[0,"\";\r\n\t\t\tt"]],"start1":201,"start2":201,"length1":24,"length2":21}]],"length":6785,"saved":false}
{"ts":1349434640172,"patch":[[{"diffs":[[0,"    "],[-1,"        this.MenuData = null;\r\n            this.ListSources = {};\r\n            this.ListViews = {};\r\n            this.ListFunctions = {};\r\n            this.ListShares = {};\r\n\r\n            this.enumDBType = { table: \"mytables\", view: \"myviews\", sproc: \"myfunctions\", shares: \"myshares\" }; \r\n    \t\t\r\n            sandbox.setEvent({\r\n\t\t\t\ttype: \"click\",\r\n\t\t\t\tparent: \"#\" + this.moduleId,\r\n\t\t\t\tchild: \"a\",\r\n\t\t\t\tmethod: \"delegate\",\r\n\t\t\t\thandler: { context:this, method:this.handleEvent },\r\n\t\t\t\tmoduleId: this.moduleId\r\n\t\t\t});\r\n    \t\tsandbox.addListener([{\r\n\t\t\t\ttype: \"menu-success\",\r\n\t\t\t\tcontext: this,\r\n\t\t\t\tcallback: this.bindItemClick\r\n\t\t\t}]);\r\n    \t\t//TODO - Manejar menu y header con template\r\n            \r\n            this.loadSections"],[1,"\t\t\r\n            \r\n            this.loadMap"],[0,"();\r"]],"start1":286,"start2":286,"length1":742,"length2":50}]],"length":6093,"saved":false}
{"ts":1349434650076,"patch":[[{"diffs":[[0,"load"],[-1,"Sections"],[1,"Map"],[0,": fu"]],"start1":347,"start2":347,"length1":16,"length2":11}]],"length":6088,"saved":false}
{"ts":1349434692339,"patch":[[{"diffs":[[0,"\r\n    \t\t$(\"#"],[-1,"mainc"],[1,"centralC"],[0,"ontainer\").a"]],"start1":369,"start2":369,"length1":29,"length2":32}]],"length":6091,"saved":false}
{"ts":1349434706012,"patch":[[{"diffs":[[0,"esPath('"],[-1,"header"],[1,"mapView"],[0,"'), []))"]],"start1":447,"start2":447,"length1":22,"length2":23}]],"length":6092,"saved":false}
{"ts":1349434734658,"patch":[[{"diffs":[[0,");\r\n"],[-1,"\t\t\tthis.getMenu();\r\n\r\n\t\t},\r\n\t    adjustMainContent: function() {\r\n\t        var docH = $(document).height();\r\n\t        var headH = $(\"#headerContainer\").height();\r\n\t        var footH = $(\"#footer\").height();\r\n\r\n\t        $(\"#maincontainer\").height(docH - headH - footH - 130);\t        \r\n\t    },\r\n\r\n        getMenu: function(){\r\n            var self = this;\r\n            $.get('getMenu', function (res) {\r\n\r\n                self.MenuData = res.data;\r\n                self.showMenu();\r\n\r\n            });\r\n\t\t},\r\n\r\n    \t//this method will display the menu items returned by ajax call\r\n\t\tshowMenu: function(res){\r\n\t\t\tvar leftmenu = sandbox.getElement({\r\n\t\t\t\tselector: \"#leftMenu\"\r\n\t\t\t});\r\n            \r\n\t\t\t//loop over the returned json and display the elements\r\n            \r\n\t\t\tif(this.MenuData.length>0){\r\n\r\n\t\t\t\tfor (var i = 0; i < this.MenuData.length; i++) {\r\n                    var item = this.MenuData[i];\r\n                    var relpop = (item.inControl=='popover') ? 'popover' : '';\r\n                    var href = (item.inControl=='popover') ? '#' : item.ref;\r\n                    var $_li = $('<li id=\"itm_' + item.itemname + '\" class=\"pointer\" style=\"line-height:30px; color:' + item.color + '\"><a idData=\"' + item.id + '\" rel=\"' + relpop + '\" href=\"' + href + '\" class=\"text-shadow nolink\" style=\"color:' + item.color + '\"><i class=\"' + item.icon + ' icon-large text-shadow\"></i>  <small style=\"font-size:12px;\">' + item.text + '</small></a></li>');\r\n\r\n                    //setup some events and define a callback\r\n                    if(item.inControl=='popover')\r\n                    \tthis.initPopOver($_li, item);\r\n\r\n                    sandbox.domManipulation([{\r\n            \t\t\ttype: \"append\",\r\n        \t\t\t\twhere: leftmenu,\r\n        \t\t\t\twhat: $_li\r\n        \t\t\t}]);\r\n                    \r\n\t\t\t\t}\r\n\t\t\t}\r\n            \r\n\t\t},\r\n        //initialize the popover\r\n        initPopOver: function(el, item) {\r\n            var self = this;\r\n\r\n            el.clickover({\r\n                tip_id: item.itemname,\r\n                html: true,\r\n                title: item.text,\r\n                trigger:'click',\r\n                placement:'belowRight',\r\n                allow_multiple:false,\r\n                global_close: false,\r\n                //content: template,\r\n                onShown: function() { self.setContentPopOver(this, item, el) },\r\n                onHide: function() { $('ul#leftMenu li').removeClass('active'); }\r\n            });\r\n\r\n         \t$.ajax({ url: \"/\" + item.ref, async: true }).then(function(data) {\r\n       \t\t\t\r\n       \t\t\tswitch(item.ref)\r\n       \t\t\t{\r\n       \t\t\t\tcase self.enumDBType.table: self.ListSources.data = data.objectList; break;\r\n       \t\t\t\tcase self.enumDBType.sproc: self.ListFunctions.data = data.objectList; break;\r\n                    case self.enumDBType.shares: self.ListShares.data = data.objectList; break;\r\n       \t\t\t}\r\n       \t\t\t   \t\t\t \r\n        \t});           \r\n\r\n            $('.scrollbar').scrollbar();\r\n        },\r\n\r\n\t    setContentPopOver: function(pov, item, elem){\r\n\t        var self = this;\r\n\t        var list=[];\r\n\t        //Asign conten to POPOVER\r\n\t        pov.$tip.find('.popover-content > *').html(this.appendSources(item.ref));\r\n\r\n\t        $('.scrollbar').scrollbar();\r\n\r\n\t        $('ul#leftMenu li').removeClass('active');\r\n\t        elem.addClass('active');\r\n\t        var popheader = $(\"#\" + item.itemname).find(\"h3\");\r\n\t        var toolbtn;\r\n\t        if(item.toolbar.length > 0) {\r\n\t            toolbtn = $('<div class=\"pull-right\"><a href=\"#\" class=\"text-shadow nolink\" data-toggle=\"modal\" data-target=\"#loginform\" rel=\"tooltip\" role=\"button\" data-placement=\"right\" title=\"' + item.toolbar[0].tip + '\"><i class=\"' + item.toolbar[0].toolicon + ' \"></i></a></div>');\r\n\t            toolbtn.find('a[rel=tooltip]').tooltip();\r\n\t        }\r\n\t        popheader.append(toolbtn);\r\n\t        $('a[data-target=\"#loginform\"]').click(function(){\r\n\t        \talert('open dialog');\r\n\t        });\r\n\r\n\t    },\r\n\r\n        appendSources: function(who){\r\n\t\t\tvar self = this;\r\n\t\t\tvar template = null;\r\n\t\t\tvar pathTemplate = \"\";\r\n\t\t\tvar list = {};\r\n\t\t\tvar data = [];\r\n\t\t\tvar isRes = false;\r\n\t\t\tif(!self.ListSources.data || !self.ListFunctions.data || !self.ListShares.data)\r\n            {\r\n            \t$.ajax({ url: \"/\" + who, async: false }).then(function(data) {\r\n\t\t \t\t\tlist.data = data.objectList;\r\n\t\t \t\t\tdata = data.objectList;\r\n\t\t \t\t\tisRes = true;\r\n            \t});\r\n            }\r\n \t\t\tswitch(who)\r\n   \t\t\t{\r\n   \t\t\t\tcase self.enumDBType.table: \r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListSources.data \t= data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListSources.data;\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listSources'); break;\r\n   \t\t\t\t}\r\n   \t\t\t\tcase self.enumDBType.view:  \r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListSources.data = data;\t\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tlist.data = self.ListSources.data;\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listViews'); break;\r\n   \t\t\t\t}\r\n   \t\t\t\tcase self.enumDBType.sproc:\r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListFunctions.data = data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListFunctions.data\t\r\n   \t\t\t\t\tpathTemplate =sandbox.getTemplatesPath('listFunctions');break; \r\n   \t\t\t\t}\r\n       \t\t\tcase self.enumDBType.shares:\r\n   \t\t\t\t{\r\n   \t\t\t\t\tif(isRes)\r\n   \t\t\t\t\t\tself.ListShares.data = data;\t\r\n   \t\t\t\t\telse\r\n   \t\t\t\t\t\tlist.data = self.ListShares.data\t\r\n   \t\t\t\t\tpathTemplate = sandbox.getTemplatesPath('listShares');break; \r\n   \t\t\t\t}                   \r\n                   \r\n   \t\t\t}\r\n\r\n            template = sandbox.fetchTemplate(pathTemplate, list); \r\n\r\n            return template;          \r\n\t\t},"],[1,"\r\n\r\n\t\t}"],[0,"\r\n\r\n"]],"start1":469,"start2":469,"length1":5613,"length2":15}]],"length":494,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349469127792,"patch":[[{"diffs":[[0," []));\r\n"],[1,"            \r\n            var url = 'http://api.tiles.mapbox.com/v3/mapbox.world-light.jsonp';\r\n            wax.tilejson(url, function(tilejson) {\r\n                // Set up a map in a div with the id 'modestmaps-setup'\r\n                var m = new MM.Map('MyMap',\r\n                  // Use Wax's connector to add a new custom layer\r\n                  new wax.mm.connector(tilejson),\r\n                  // And it'll be 240px by 120px\r\n                  new MM.Point(240,120));\r\n            \r\n                // Center it on the United States, at zoom level 2.\r\n                m.setCenterZoom({ lat: 39, lon: -98 }, 2);\r\n            });"],[0,"\r\n\r\n\t\t}\r"]],"start1":465,"start2":465,"length1":16,"length2":652}]],"length":1130,"saved":false}
{"ts":1349469202365,"patch":[[{"diffs":[[0,"\r\n\t};\r\n});\r\n"],[1,"app.start(\"map-module\");"]],"start1":1118,"start2":1118,"length1":12,"length2":36}]],"length":1154,"saved":false}
{"ts":1349469381384,"patch":[[{"diffs":[[0,"r\")."],[-1,"append"],[1,"html"],[0,"(san"]],"start1":396,"start2":396,"length1":14,"length2":12}]],"length":1152,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349469805953,"patch":[[{"diffs":[[0,"\r\n    \t\t"],[1,"this.mm = com.modestmaps;"],[0,"\r\n      "]],"start1":284,"start2":284,"length1":16,"length2":41},{"diffs":[[0,"\r\n    \t\t"],[1,"//"],[0,"$(\"#cent"]],"start1":394,"start2":394,"length1":16,"length2":18}]],"length":1179,"saved":false}
{"ts":1349469851110,"patch":[[{"diffs":[[0,"    "],[-1,"var url = "],[1,"wax.tilejson("],[0,"'htt"]],"start1":520,"start2":520,"length1":18,"length2":21},{"diffs":[[0,"x.world-"],[-1,"l"],[1,"br"],[0,"ight.jso"]],"start1":574,"start2":574,"length1":17,"length2":18},{"diffs":[[0,"t.jsonp'"],[-1,";"],[1,","],[0,"\r\n      "]],"start1":587,"start2":587,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"wax.tilejson(url,"],[1,"   "],[0," fun"]],"start1":606,"start2":606,"length1":25,"length2":11},{"diffs":[[0," {\r\n"],[-1,"                // Set up a map in a div with the id 'modestmaps-setup'\r\n"],[0,"    "]],"start1":632,"start2":632,"length1":81,"length2":8},{"diffs":[[0,"new "],[-1,"MM"],[1,"mm"],[0,".Map('"],[-1,"MyMap"],[1,"map-div"],[0,"',\r\n"]],"start1":660,"start2":660,"length1":21,"length2":23},{"diffs":[[0,"    "],[-1,"// Use Wax's connector to add a new custom layer"],[1,"new wax.mm.connector(tilejson));"],[0,"\r\n  "]],"start1":697,"start2":697,"length1":56,"length2":40},{"diffs":[[0,"    "],[-1,"  new "],[0,"wax.mm."],[-1,"connector(tilejson),\r\n                  // And it'll be 240px by 120px\r\n                  new MM.Point(240,120));\r\n            \r\n                // Center it on the United States, at zoom level 2."],[1,"zoomer(m, tilejson).appendTo(m.parent);"],[0,"\r\n  "]],"start1":747,"start2":747,"length1":217,"length2":54},{"diffs":[[0,"oom("],[-1,"{ lat: 39, lon:"],[1,"new mm.Location(39,"],[0," -98"],[-1," }"],[1,")"],[0,", 2)"]],"start1":827,"start2":827,"length1":29,"length2":32}]],"length":922,"saved":false}
{"ts":1349469965186,"patch":[[{"diffs":[[0,");\r\n"],[-1,"    \t\tthis.mm = com.modestmaps;\r\n"],[0,"    "]],"start1":282,"start2":282,"length1":41,"length2":8},{"diffs":[[0,");\r\n            "],[1,"var mm = com.modestmaps;"],[0,"\r\n            wa"]],"start1":461,"start2":461,"length1":32,"length2":56}]],"length":913,"saved":false}
{"ts":1349470122845,"patch":[[{"diffs":[[0,"tmaps;\r\n"],[1,"            \r\n"],[0,"        "]],"start1":495,"start2":495,"length1":16,"length2":30},{"diffs":[[0,");\r\n"],[-1,"                wax.mm.zoomer(m, tilejson).appendTo(m.parent);\r\n"],[0,"    "]],"start1":736,"start2":736,"length1":72,"length2":8}]],"length":863,"saved":false}
{"ts":1349477298274,"patch":[[{"diffs":[[0,"ap('"],[-1,"map-div"],[1,"MyMap"],[0,"',\r\n"]],"start1":673,"start2":673,"length1":15,"length2":13}]],"length":861,"saved":false}
{"ts":1349477412461,"patch":[[{"diffs":[[0,"    });\r"],[1,"\n            var layer = wax.mm.connector(tilejson)\r"],[0,"\n\r\n\t\t}\r\n"]],"start1":809,"start2":809,"length1":16,"length2":68}]],"length":913,"saved":false}
{"ts":1349477561109,"patch":[[{"diffs":[[0,"    var "],[1,"url = 'http://api.tiles.mapbox.com/v3/mapbox.geography-class.jsonp';\r\n            wax.tilejson(url, function(tilejson) {\r\n                var map = new MM.Map('MyMap', new wax.mm.connector(tilejson));\r\n            \r\n                wax.mm.interaction()\r\n                  .map(map)\r\n                  .tilejson(tilejson)\r\n                  .on(wax.tooltip().animate(true).parent(map.parent).events());\r\n            \r\n                map.setCenterZoom({ lat: 39, lon: -98 }, 1);\r\n              }\r\n            );            \r\n                        \r\n            /*var "],[0,"mm = com"]],"start1":473,"start2":473,"length1":16,"length2":584},{"diffs":[[0,"ejson)\r\n"],[1,"            */"],[0,"\r\n\t\t}\r\n\r"]],"start1":1430,"start2":1430,"length1":16,"length2":30}]],"length":1495,"saved":false}
{"ts":1349477710586,"patch":[[{"diffs":[[0,"  \r\n"],[-1,"                        \r\n            /*var mm = com.modestmaps;\r\n            \r\n            wax.tilejson('http://api.tiles.mapbox.com/v3/mapbox.world-bright.jsonp',\r\n                function(tilejson) {\r\n                var m = new mm.Map('MyMap',\r\n                  new wax.mm.connector(tilejson));\r\n                m.setCenterZoom(new mm.Location(39, -98), 2);\r\n            });\r\n            var layer = wax.mm.connector(tilejson)\r\n            */"],[0,"\r\n\t\t"]],"start1":1001,"start2":1001,"length1":455,"length2":8}]],"length":1048,"saved":false}
{"ts":1349477723562,"patch":[[{"diffs":[[0," {\r\n"],[-1,"\t\t//init and destroy methods REQUIRED"],[0,"\r\n\t\t"]],"start1":87,"start2":87,"length1":45,"length2":8}]],"length":1011,"saved":false}
{"ts":1349477965644,"patch":[[{"diffs":[[0,"    "],[-1,"\t\t//$(\"#centralContainer\").html(sandbox.fetchTemplate(sandbox.getTemplatesPath('mapView'), []))"],[1,"        var mm = com.modestmaps"],[0,";\r\n "]],"start1":326,"start2":326,"length1":103,"length2":39},{"diffs":[[0,"box."],[-1,"geography-class"],[1,"mapbox-light"],[0,".jso"]],"start1":421,"start2":421,"length1":23,"length2":20},{"diffs":[[0,"sonp';\r\n"],[1,"    \r\n"],[0,"        "]],"start1":439,"start2":439,"length1":16,"length2":22},{"diffs":[[0,"ar m"],[-1,"ap"],[0," = new "],[-1,"MM"],[1,"mm"],[0,".Map('"],[-1,"MyM"],[1,"m"],[0,"ap',"]],"start1":522,"start2":522,"length1":28,"length2":24},{"diffs":[[0,"son));\r\n    "],[-1,"        "],[0,"\r\n          "]],"start1":573,"start2":573,"length1":32,"length2":24},{"diffs":[[0,"    "],[-1,"wax.mm.interaction()\r\n                  .map(map)\r\n                  .tilejson(tilejson)\r\n                  .on(wax.tooltip().animate(true).parent(map.parent).events()"],[1,"m.setCenterZoom(new mm.Location(41.8827, -87.6233), 18);\r\n    \r\n                wax.mm.zoomer(m).appendTo(m.parent"],[0,");\r\n"]],"start1":599,"start2":599,"length1":175,"length2":122},{"diffs":[[0,"    "],[-1,"\r\n"],[0,"    "],[-1,"            map.setCenterZoom({ lat: 39, lon: -98 }, 1);\r\n              }\r\n            );  "],[1,"wax.mm.attribution(m, tilejson).appendTo(m.parent);\r\n            });"],[0,"    "]],"start1":729,"start2":729,"length1":105,"length2":80}]],"length":860,"saved":false}
{"ts":1349478762128,"patch":[[{"diffs":[[0,"ar m"],[-1,"m = com.modestmaps;\r\n            var url ="],[1,"ain = Map('map', {\r\n                // Specify the MapBox API url\r\n                api:"],[0," 'ht"]],"start1":339,"start2":339,"length1":50,"length2":95},{"diffs":[[0,"http://a"],[-1,"pi"],[0,".tiles.m"]],"start1":432,"start2":432,"length1":18,"length2":16},{"diffs":[[0,"/v3/"],[-1,"mapbox.mapbox-light"],[1,"examples.map-20v6611k,mapbox.dc-property-values"],[0,".jsonp'"],[-1,";"],[1,","],[0,"\r\n    "],[-1,"\r\n            wax.tilejson(url, function(tilejson) {\r\n                var m = new mm.Map('map', new wax.mm.connector(tilejson));\r\n    \r\n                m.setCenterZoom(new mm.Location(41.8827, -87.6233), 18);\r\n    \r\n                wax.mm.zoomer(m).appendTo(m.parent);\r\n                wax.mm.attribution(m, tilejson).appendTo(m.parent);"],[1,"            center: {\r\n                    lat: 38.9090033656251,      // Intial center point and zoom level.\r\n                    lon: -77.014396158891,      // To find coordinates and zoom levels\r\n                    zoom: 13                    // try: http://www.getlatlon.com\r\n                },\r\n                zoomRange: [0, 15],             // Limit zooming on the map to these levels\r\n                features: [                     // Map features (see readme.md)\r\n                    'zoomwheel',\r\n                    'movetips',\r\n                    'zoombox',\r\n                    'zoompan',\r\n                    'share'\r\n                ]"],[0,"\r\n  "]],"start1":457,"start2":457,"length1":378,"length2":721},{"diffs":[[0,"        "],[-1," "],[0,"\r\n\r\n\t\t}\r"]],"start1":1192,"start2":1192,"length1":17,"length2":16}]],"length":1245,"saved":false}
{"ts":1349478804849,"patch":[[{"diffs":[[0,"        "],[1,"this.mainMap= null;"],[0,"\r\n      "]],"start1":253,"start2":253,"length1":16,"length2":35},{"diffs":[[0,"    "],[-1,"var "],[0,"main"],[1,"Map"],[0," = M"]],"start1":353,"start2":353,"length1":16,"length2":15}]],"length":1263,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349484912050,"patch":[[{"diffs":[[0,"http://a"],[1,"pi"],[0,".tiles.m"]],"start1":450,"start2":450,"length1":16,"length2":18},{"diffs":[[0,"/v3/"],[-1,"examples.map-20v6611k,mapbox.dc-property-value"],[1,"mapbox.mapbox-street"],[0,"s.js"]],"start1":477,"start2":477,"length1":54,"length2":28}]],"length":1239,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349707486371,"patch":[[{"diffs":[[0,"a/view\r\n"],[1,"        \r\n"],[0,"\t\tinit: "]],"start1":123,"start2":123,"length1":16,"length2":26},{"diffs":[[0,"     });"],[1,"\r\n            \r\n            main.layers({\r\n                custom: { api: 'http://a.tiles.mapbox.com/v3/mapbox.dc-crime-robbery.jsonp' }\r\n            });   "],[0,"        "]],"start1":1187,"start2":1187,"length1":16,"length2":172}]],"length":1405,"saved":false}
{"ts":1349707643747,"patch":[[{"diffs":[[0,"p://"],[-1,"a.tiles.mapbox.com/v3/mapbox.dc-crime-robbery.jsonp"],[1,"localhost:4000/database/pgs_buenos_aires/table/lineas-subte/{z}/{x}/{y}"],[0,"' }\r"]],"start1":1273,"start2":1273,"length1":59,"length2":79}]],"length":1425,"saved":false}
{"ts":1349708513322,"patch":[[{"diffs":[[0,"    main"],[1,"Map"],[0,".layers("]],"start1":1219,"start2":1219,"length1":16,"length2":19}]],"length":1428,"saved":false}
{"ts":1349709417845,"patch":[[{"diffs":[[0,"            "],[1,"this."],[0,"mainMap = Ma"]],"start1":355,"start2":355,"length1":24,"length2":29},{"diffs":[[0,"        "],[-1,"\r\n            "],[1,"var baseURL = \"http://localhost:4000/database/<%= dbname %>/table/<%= table %>/{z}/{x}/{y}\";\r\n            var tilejson = {\r\n                tilejson: '1.0.0',\r\n                scheme: 'xyz',\r\n                tiles: [],\r\n                grids: [],\r\n                formatter: function(options, data) { return data.id }\r\n            };\r\n            \r\n            tilejson.tiles = [url + '.png'];\r\n            tilejson.grids = [url + '.grid.json'];            \r\n            \r\n            this."],[0,"mainMap."]],"start1":1206,"start2":1206,"length1":30,"length2":506}]],"length":1909,"saved":false}
{"ts":1349709436976,"patch":[[{"diffs":[[0,"\r\n            \r\n"],[1,"            var url = _.template(baseURL, {dbname: dbname, table: table});\r\n            \r\n"],[0,"            tile"]],"start1":1547,"start2":1547,"length1":32,"length2":122}]],"length":1999,"saved":false}
{"ts":1349709462971,"patch":[[{"diffs":[[0,"me: "],[-1,"dbname, table: table"],[1,"'pgs_buenos_aires', table: 'lineas-subte'"],[0,"});\r"]],"start1":1610,"start2":1610,"length1":28,"length2":49}]],"length":2020,"saved":false}
{"ts":1349709516893,"patch":[[{"diffs":[[0,"];            \r\n"],[1,"            var testMap = new wax.mm.connector(tilejson));\r\n"],[0,"            \r\n  "]],"start1":1768,"start2":1768,"length1":32,"length2":92}]],"length":2080,"saved":false}
{"ts":1349709529088,"patch":[[{"diffs":[[0,"ilejson)"],[-1,")"],[0,";\r\n     "]],"start1":1832,"start2":1832,"length1":17,"length2":16}]],"length":2079,"saved":false}
{"ts":1349709609867,"patch":[[{"diffs":[[0,"om: "],[-1,"{ api: 'http://localhost:4000/database/pgs_buenos_aires/table/lineas-subte/{z}/{x}/{y}' }"],[1,"testMap"],[0,"\r\n  "]],"start1":1912,"start2":1912,"length1":97,"length2":15}]],"length":1997,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349795645724,"patch":[[{"diffs":[[0," });"],[-1,"\r\n            var baseURL = \"http://localhost:4000/database/<%= dbname %>/table/<%= table %>/{z}/{x}/{y}\";\r\n            var tilejson = {\r\n                tilejson: '1.0.0',\r\n                scheme: 'xyz',\r\n                tiles: [],\r\n                grids: [],\r\n                formatter: function(options, data) { return data.id }\r\n            };\r\n            \r\n            var url = _.template(baseURL, {dbname: 'pgs_buenos_aires', table: 'lineas-subte'});\r\n            \r\n            tilejson.tiles = [url + '.png'];\r\n            tilejson.grids = [url + '.grid.json'];            \r\n            var testMap = new wax.mm.connector(tilejson);\r\n            \r\n            this.mainMap.layers({\r\n                custom: testMap\r\n            });    "],[0,"    "]],"start1":1196,"start2":1196,"length1":752,"length2":8}]],"length":1253,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350342294173,"patch":[[{"diffs":[[0,"     });"],[1,"\r\n            this.mainMap.layers({\r\n\r\n                subtes: { \r\n                    api: 'http://127.0.0.1:8888',\r\n                    center: { zoom: 12, ease: 1000 }\r\n                }\r\n            });            \r\n    "],[0,"        "]],"start1":1192,"start2":1192,"length1":16,"length2":240}]],"length":1477,"saved":false}
{"ts":1350342410567,"patch":[[{"diffs":[[0,"0.1:8888"],[1,"/{z}/{x}/{y}.png"],[0,"',\r\n    "]],"start1":1306,"start2":1306,"length1":16,"length2":32}]],"length":1493,"saved":false}
{"ts":1350342537935,"patch":[[{"diffs":[[0,".1:8888/"],[1,"subtes/"],[0,"{z}/{x}/"]],"start1":1307,"start2":1307,"length1":16,"length2":23}]],"length":1500,"saved":false}
